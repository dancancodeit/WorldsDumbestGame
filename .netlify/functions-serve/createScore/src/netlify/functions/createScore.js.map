{
  "version": 3,
  "sources": ["../../../../../../Users/danielmiller/workspace/push-button/netlify/functions/createScore.ts"],
  "sourceRoot": "/var/folders/_c/pvbrwxb52bxb0bv3yhnzb75m0000gn/T/tmp-14534-NTX2azHKq01V",
  "sourcesContent": ["import { Handler, HandlerEvent, HandlerContext } from \"@netlify/functions\";\nimport { PrismaClient } from '@prisma/client'\n\ntype Score = {\n  playerName: string,\n  score: number\n}\n\nconst handler: Handler = async (event: HandlerEvent, context: HandlerContext) => {\n  if (!event.body) {\n    return {\n      statusCode: 500,\n      body: JSON.stringify({ message: \"missing body\" }),\n    };\n  }\n  \n  const prisma = new PrismaClient()\n  const {playerName, score} = JSON.parse(event.body) as Score\n\n  async function main() {\n    await prisma.score.create({\n      data: {\n        player_name: playerName,\n        score: score\n      }\n    })\n  }\n\n  try { \n    await main()\n    return {\n      statusCode: 200,\n      headers: {\"Content-Type\": \"application/json\"},\n      body: JSON.stringify({ succes: true }),\n    };\n  }\n  catch (e) { \n    console.error(e);\n    return {\n      statusCode: 500,\n      body: JSON.stringify({ e }),\n    };\n  }\n};\n\nexport { handler };"],
  "mappings": ";;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,oBAA6B;AAO7B,IAAM,UAAmB,OAAO,OAAqB,YAA4B;AAC/E,MAAI,CAAC,MAAM,MAAM;AACf,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,MAAM,KAAK,UAAU,EAAE,SAAS,eAAe,CAAC;AAAA,IAClD;AAAA,EACF;AAEA,QAAM,SAAS,IAAI,2BAAa;AAChC,QAAM,EAAC,YAAY,UAAS,KAAK,MAAM,MAAM,IAAI;AAEjD,wBAAsB;AACpB,UAAM,OAAO,MAAM,OAAO;AAAA,MACxB,MAAM;AAAA,QACJ,aAAa;AAAA,QACb;AAAA,MACF;AAAA,IACF,CAAC;AAAA,EACH;AAEA,MAAI;AACF,UAAM,KAAK;AACX,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,SAAS,EAAC,gBAAgB,mBAAkB;AAAA,MAC5C,MAAM,KAAK,UAAU,EAAE,QAAQ,KAAK,CAAC;AAAA,IACvC;AAAA,EACF,SACO,GAAP;AACE,YAAQ,MAAM,CAAC;AACf,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,MAAM,KAAK,UAAU,EAAE,EAAE,CAAC;AAAA,IAC5B;AAAA,EACF;AACF;",
  "names": []
}
